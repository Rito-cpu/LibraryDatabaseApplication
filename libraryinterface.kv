#:kivy 2.0.0
#: import hex kivy.utils.get_color_from_hex
<LoginMenu>:
    FloatLayout:
        canvas.before:
            Color:
                rgba: hex("#49677B")                
            Rectangle:
                pos: self.pos
                size: self.size
    Label:
        font_size: 30
        text: "Account Sign-In"
        pos_hint: {"x": 0,"y": 0.43}
    Label:
        font_size: 20
        text: "Username"
        pos_hint: {"x": -0.2,"y": 0.185}
    Label:
        font_size: 20
        text: "Password"
        pos_hint: {"x": -0.2,"y": 0.085}
    TextInput:
        id: textinput_username
        multiline: "False"
        pos_hint: {"x": 0.39,"y": 0.65}
        size_hint: 0.2, 0.07
    TextInput:
        id: textinput_password
        multiline: "False"
        pos_hint: {"x": 0.39,"y": 0.55}
        size_hint: 0.2, 0.07
    Button:
        text: "Login"
        size_hint: 0.09, 0.09
        pos_hint: {"x": 0.45,"y": 0.4}
        on_press: root.onLogin()
    Button:
        text: "Signup"
        size_hint: 0.09, 0.09
        pos_hint: {"x": 0.45,"y": 0.3}
        on_press: 
            root.manager.transition.direction = "up"
            root.manager.current = "signupmenu"
    Button:
        id: exit_button1
        text: "Exit"
        size_hint: 0.09, 0.09
        on_press: app.stop()
<SignupMenu>:
    FloatLayout:
        canvas.before:
            Color:
                rgba: hex("#49677B")                
            Rectangle:
                pos: self.pos
                size: self.size
    Label:
        font_size: 30
        text: "Account Signup"
        pos_hint: {"x": 0,"y": 0.43}
    Label:
        font_size: 20
        text: "Username"
        pos_hint: {"x": -0.2,"y": 0.185}
    Label:
        font_size: 20
        text: "Password"
        pos_hint: {"x": -0.2,"y": 0.085}
    TextInput:
        id: signup_username
        multiline: "False"
        pos_hint: {"x": 0.39,"y": 0.65}
        size_hint: 0.2, 0.07
    TextInput:
        id: signup_password
        multiline: "False"
        pos_hint: {"x": 0.39,"y": 0.55}
        size_hint: 0.2, 0.07
    Button:
        text: "Submit"
        size_hint: 0.09, 0.09
        pos_hint: {"x": 0.45,"y": 0.4}
        on_press: root.submit()
    Button:
        text: "Return"
        size_hint: 0.08, 0.08
        on_press: 
            root.manager.transition.direction = "down"
            root.manager.current = "loginmenu"
<MainMenu>:
    FloatLayout:
        canvas.before:
            Color:
                rgba: hex("#49677B")                
            Rectangle:
                pos: self.pos
                size: self.size
    Label:
        font_size: 30
        text: "Welcome, User!"
        pos_hint: {"x": 0,"y": 0.43}
    Button:
        id: exit_button2
        text: "Exit"
        size_hint: 0.09, 0.09
        on_press: app.stop()
    Button:
        id: logout_button
        text: "Logout"
        size_hint: 0.09, 0.09
        pos_hint: {"x": 0.12,"y": 0}
        on_press: 
            root.manager.transition.direction = "right"
            root.manager.current = "loginmenu"
    Button:
        text: "Library"
        size_hint: 0.1, 0.1
        pos_hint: {"x": 0.45,"y": 0.65}
        on_press: 
            root.manager.transition.direction = "left"
            root.manager.current = "librarymenu"
    Button:
        text: "Checkout"
        size_hint: 0.1, 0.1
        pos_hint: {"x": 0.45,"y": 0.5}
        on_press: 
            root.manager.transition.direction = "left"
            root.manager.current = "checkoutmenu"
    Button:
        text: "My Books"
        size_hint: 0.12, 0.1
        pos_hint: {"x": 0.44,"y": 0.35}
        on_press: 
            root.manager.transition.direction = "left"
            root.manager.current = "mybooksmenu"

<RV>:


<LibraryMenu>:
    BoxLayout:
        orientation: "vertical"
        canvas.before:
            Color:
                rgba: hex("#49677B")
            Rectangle:
                pos: self.pos
                size: self.size
        BoxLayout:
            orientation: 'vertical'
            size_hint: 1, .4
            padding: [0, 20, 0, 0]
            spacing: 20
            Label:
                font_size: 30
                size_hint: 1, .1
                text: "Search Library"
                pos_hint: {'center_x': .5, 'y': 0}
            TextInput:
                id: userSearch
                multiline: "False"
                text: ""
                size_hint: 0.5, 0.1
                pos_hint: {'center_x': .5}
            Button:
                text: "Search"
                size_hint: 0.1, 0.1
                pos_hint: {'center_x': .5}
                on_press: root.getbooksthread()

        GridLayout:
            size_hint: (1, .2)
            cols: 6

            Hlabel:
                text: "Title"
            Hlabel:
                text: "Author First Name"
            Hlabel:
                text: "Author Last Name"
            Hlabel:
                text: "ISBN"
            Hlabel:
                text: "Genre"
            Hlabel:
                text: "Stock"


        BoxLayout:
            id: box
            size_hint: 1,1
            RecycleView
                id: bookstable
                viewclass: 'Book'
                data: [{'text': str(x)} for x in root.books]
                size_hint: 1, 1
                SelectableRecycleGridLayout:
                    cols: 6
                    default_size: None, dp(26)
                    default_size_hint: 1, None
                    height: self.minimum_height
                    orientation: 'lr-tb'
    Button:
        id: return_button1
        text: "Return"
        size_hint: 0.08, 0.08
        on_press:
            root.clearSearch()
            root.manager.transition.direction = "right"
            root.manager.current = "mainmenu"

<Book>:
    text_size: root.width, None
    size: self.texture_size
    halign: 'center'
    valign: 'center'
    # Draw a background to indicate selection

<Hlabel>:
    text_size: root.width, None
    padding: 10, 0
    size: self.texture_size
    halign: 'center'
    valign: 'center'

<CheckoutMenu>:
    FloatLayout:
        canvas.before:
            Color:
                rgba: hex("#49677B")                
            Rectangle:
                pos: self.pos
                size: self.size
    Label:
        font_size: 30
        text: "Checkout Books"
        pos_hint: {"x": 0,"y": 0.35}
    Button:
        id: return_button2
        text: "Return"
        size_hint: 0.08, 0.08
        on_press: 
            root.manager.transition.direction = "right"
            root.manager.current = "mainmenu"
<MyBooksMenu>:
    FloatLayout:
        canvas.before:
            Color:
                rgba: hex("#49677B")                
            Rectangle:
                pos: self.pos
                size: self.size
    Label:
        font_size: 30
        text: "My Books"
        pos_hint: {"x": 0,"y": 0.35}
    Button:
        id: return_button3
        text: "Return"
        size_hint: 0.08, 0.08
        on_press: 
            root.manager.transition.direction = "right"
            root.manager.current = "mainmenu"

